import time

from models import Spider, UpdateData, GetData
x = GetData().getLastDividend("2330")
print('wwww',GetData().getUpdateRecord("stock")[0])
y="1,9,9"
z=y.split(",")
print(",".join(z))
x = Spider("2330")
x.getDividendPayment()
y= ['1102', '1110', '1213', '1216', '1227', '1229', '1231', '1232', '1233', '1236', '1256', '1301', '1303', '1304', '1305', '1308', '1309', '1313', '1314', '1316', '1324', '1326', '1339', '1341', '1342', '1402', '1409', '1410', '1413', '1417', '1419', '1432', '1434', '1437', '1438', '1440', '1445', '1452', '1454', '1455', '1456', '1459', '1460', '1465', '1466', '1472', '1476', '1503', '1504', '1506', '1513', '1515', '1516', '1524', '1525', '1526', '1527', '1528', '1530', '1535', '1536', '1538', '1541', '1558', '1568', '1582', '1583', '1589', '1590', '1597', '1605', '1608', '1611', '1617', '1626', '1701', '1702', '1707', '1709', '1710', '1712', '1713', '1714', '1717', '1718', '1720', '1721', '1723', '1725', '1726', '1727', '1730', '1731', '1733', '1734', '1735', '1737', '1752', '1760', '1762', '1773', '1776', '1789', '1795', '1802', '1805', '1808', '1817', '1903', '1904', '1905', '1906', '1907', '1909', '2002', '2002A', '2006', '2007', '2008', '2009', '2010', '2012', '2013', '2014', '2015', '2022', '2024', '2029', '2030', '2031', '2033', '2034', '2049', '2059', '2062', '2102', '2103', '2107', '2108', '2109', '2115', '2201', '2204', '2208', '2211', '2228', '2231', '2301', '2303', '2305', '2308', '2312', '2313', '2314', '2321', '2323', '2324', '2327', '2330', '2331', '2337', '2338', '2342', '2344', '2345', '2347', '2351', '2352', '2353', '2355', '2356', '2357', '2358', '2359', '2360', '2363', '2364', '2365', '2368', '2369', '2371', '2373', '2375', '2376', '2377', '2380', '2382', '2383', '2385', '2388', '2395', '2397', '2408', '2412', '2415', '2419', '2420', '2421', '2423', '2424', '2426', '2427', '2428', '2430', '2431', '2433', '2434', '2436', '2439', '2441', '2451', '2453', '2454', '2455', '2457', '2458', '2459', '2464', '2465', '2467', '2476', '2477', '2480', '2482', '2483', '2484', '2486', '2488', '2489', '2495', '2496', '2497', '2498', '2504', '2506', '2509', '2511', '2515', '2516', '2527', '2528', '2535', '2536', '2539', '2540', '2545', '2603', '2605', '2606', '2607', '2609', '2610', '2612', '2613', '2615', '2616', '2618', '2630', '2633', '2636', '2642', '2704', '2705', '2712', '2722', '2727', '2739', '2748', '2809', '2812', '2820', '2832', '2834', '2838', '2838A', '2845', '2850', '2851', '2855', '2884', '2885', '2888', '2888A', '2888B', '2889', '2890', '2897', '2897A', '2901', '2903', '2906', '2910', '2912', '2913', '2923', '2929', '2945', '3002', '3003', '3004', '3005', '3006', '3008', '3013', '3014', '3015', '3016', '3017', '3022', '3023', '3026', '3027', '3028', '3029', '3030', '3031', '3035', '3037', '3038', '3040', '3042', '3046', '3047', '3049', '3054', '3056', '3057', '3058', '3059', '3060', '3130', '3149', '3164', '3167', '3189', '3229', '3231', '3257', '3266', '3296', '3305', '3321', '3338', '3380', '3383', '3413', '3416', '3432', '3443', '3454', '3515', '3518', '3528', '3530', '3532', '3533', '3536', '3543', '3557', '3563', '3576', '3583', '3591', '3592', '3593', '3596', '3645', '3653', '3661', '3669', '3682', '3686', '3694', '3703', '3704', '3706', '3708', '3714', '4104', '4108', '4119', '4133', '4137', '4155', '4438', '4439', '4440', '4526', '4532', '4536', '4545', '4551', '4555', '4557', '4560', '4564', '4572', '4576', '4722', '4739', '4746', '4755', '4770', '4807', '4904', '4906', '4915', '4919', '4930', '4934', '4938', '4952', '4956', '4958', '4960', '4968', '4994', '4999', '5007', '5222', '5225', '5234', '5243', '5244', '5269', '5283', '5285', '5288', '5306', '5388', '5434', '5471', '5519', '5525', '5533', '5538', '5546', '5706', '5880', '5906', '6024', '6112', '6116', '6142', '6155', '6164', '6166', '6183', '6184', '6189', '6196', '6197', '6201', '6202', '6205', '6206', '6213', '6215', '6226', '6235', '6239', '6243', '6251', '6257', '6269', '6271', '6277', '6278', '6281', '6282', '6285', '6288', '6409', '6412', '6415', '6416', '6426', '6438', '6443', '6449', '6456', '6477', '6491', '6504', '6505', '6515', '6531', '6533', '6541', '6552', '6558', '6573', '6579', '6581', '6582', '6591', '6592', '6641', '6666', '6668', '6672', '6674', '6698', '6706', '6715', '6719', '6754', '6756', '6768', '6770', '6776', '6790', '6792', '6806', '8011', '8016', '8021', '8039', '8046', '8070', '8072', '8081', '8104', '8105', '8114', '8131', '8150', '8163', '8201', '8210', '8222', '8249', '8261', '8271', '8341', '8367', '8374', '8438', '8464', '8466', '8467', '8478', '8480', '8488', '8926', '8940', '9802', '9902', '9905', '9907', '9908', '9910', '9912', '9917', '9918', '9919', '9924', '9925', '9926', '9929', '9930', '9931', '9933', '9935', '9940', '9941', '9941A', '9942']
print(time.gmtime().tm_year)
#UpdateData().updateProfitAndDividendInfo("1102")
print("dsaghafha")
import sqlite3
from sqlite3 import Error as sqlite3Error

dbFile = 'yield.db'


def createConnection():
    conn = None
    try:
        conn = sqlite3.connect(dbFile)
    except sqlite3Error as e:
        print("sqlite連線錯誤")
        print(e)
        return
    return conn

def getSumInfo(id):
    conn = createConnection()
    sql = '''
        SELECT EPS,cash_dividends,stock_dividends
        FROM dividend
        WHERE payment = 1 AND stock_id = '{}'
        limit 0, 10
        '''.format(id)
    rows = list()
    with conn:
        cursor = conn.cursor()
        try:
            cursor.execute(sql)
            rows = cursor.fetchall()
            print(rows)
        except sqlite3Error as e:
            print(e)
    return rows

print(getSumInfo("2330"))